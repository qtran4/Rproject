infected <- subset(all,all[3:12],0)
numinfected <-nrow(infected)
print(numinfected)
}
summarizeData("allData.csv")
summarizeData<- function(file){
data <- read.csv(file)
all <- subset(data, age<122)
numscreen <- nrow(all)
print(numscreen)
infected <- subset(all,all[3:12] >0)
numinfected <-nrow(infected)
print(numinfected)
}
summarizeData("allData.csv")
summarizeData<- function(file){
data <- read.csv(file)
all <- subset(data, age<122)
numscreen <- nrow(all)
print(numscreen)
infected <- subset(all,all[3:12] >0)
numinfected <- nrow(infected)
print(numinfected)
}
summarizeData("allData.csv")
summarizeData<- function(file){
data <- read.csv(file)
all <- subset(data, age<122)
numscreen <- nrow(all)
print(numscreen)
infected <- subset(all,all[3:12]==0)
numinfected <- nrow(infected)
print(numinfected)
}
summarizeData("allData.csv")
summarizeData<- function(file){
data <- read.csv(file)
all <- subset(data, age<122)
numscreen <- nrow(all)
print(numscreen)
infected <- subset(all, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0)
numinfected <- nrow(infected)
print(numinfected)
}
summarizeData("allData.csv")
summarizeData<- function(file){
data <- read.csv(file)
all <- subset(data, age<122)
numscreen <- nrow(all)
print(numscreen)
infected <- subset(all, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0)
numinfected <- nrow(infected)
percentinfected = numinfected/numscreen
print(numinfected)
}
summarizeData("allData.csv")
summarizeData<- function(file){
data <- read.csv(file)
all <- subset(data, age<122)
numscreen <- nrow(all)
print(numscreen)
infected <- subset(all, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0)
numinfected <- nrow(infected)
percentinfected = numinfected/numscreen
print(numinfected)
print(percentinfected)
}
summarizeData("allData.csv")
summarizeData<- function(file){
data <- read.csv(file)
all <- subset(data, age<122)
numscreen <- nrow(all)
infected <- subset(all, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0)
numinfected <- nrow(infected)
maleinfected <- infected["male"].value_counts()
summarizeData<- function(file){
data <- read.csv(file)
all <- subset(data, age<122)
numscreen <- nrow(all)
infected <- subset(all, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0)
numinfected <- nrow(infected)
print(maleinfected)
percentinfected = numinfected/numscreen
print(numinfected)
}
summarizeData("allData.csv")
summarizeData<- function(file){
data <- read.csv(file)
all <- subset(data, age<122)
numscreen <- nrow(all)
infected <- subset(all, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0)
numinfected <- nrow(infected)
maleinfected <- infected["male"].value_counts()
summarizeData<- function(file){
data <- read.csv(file)
all <- subset(data, age<122)
numscreen <- nrow(all)
infected <- subset(all, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0)
numinfected <- nrow(infected)
maleinfected <- infected["male"].value_counts
summarizeData<- function(file){
data <- read.csv(file)
all <- subset(data, age<122)
numscreen <- nrow(all)
infected <- subset(all, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0)
numinfected <- nrow(infected)
maleinfected <- subset(infected, gender == "male")
nummaleinfected = nrow(maleinfected)
percentinfected = numinfected/numscreen
femaleinfected <- subset(infected, gender == "female")
numfemaleinfected = nrow(femaleinfected)
print(numfemaleinfected)
print(nummaleinfected)
print(numinfected)
}
summarizeData("allData.csv")
#Initialize ggplot2
library(ggplot2)
summarizeData<- function(file){
data <- read.csv(file)
all <- subset(data, age<122)
numscreen <- nrow(all)
infected <- subset(all, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0)
numinfected <- nrow(infected)
maleinfected <- subset(infected, gender == "male")
nummaleinfected = nrow(maleinfected)
percentinfected = numinfected/numscreen
femaleinfected <- subset(infected, gender == "female")
numfemaleinfected = nrow(femaleinfected)
print(numfemaleinfected)
print(nummaleinfected)
print(numinfected)
ggplot() + geom_histogram(data=infected, aes(x=age,color="red")) +theme_classic()
}
summarizeData<- function(file){
data <- read.csv(file)
all <- subset(data, age<122)
numscreen <- nrow(all)
infected <- subset(all, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0)
numinfected <- nrow(infected)
maleinfected <- subset(infected, gender == "male")
nummaleinfected = nrow(maleinfected)
percentinfected = numinfected/numscreen
femaleinfected <- subset(infected, gender == "female")
numfemaleinfected = nrow(femaleinfected)
print(numfemaleinfected)
print(nummaleinfected)
print(numinfected)
ggplot() + geom_histogram(data=infected, aes(x=age,color="red")) +theme_classic()
}
summarizeData("allData.csv")
summarizeData<- function(file){
data <- read.csv(file)
all <- subset(data, age<122)
numscreen <- nrow(all)
infected <- subset(all, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0)
numinfected <- nrow(infected)
maleinfected <- subset(infected, gender == "male")
nummaleinfected = nrow(maleinfected)
percentinfected = numinfected/numscreen
femaleinfected <- subset(infected, gender == "female")
numfemaleinfected = nrow(femaleinfected)
print(numfemaleinfected)
print(nummaleinfected)
print(numinfected)
ggplot() + geom_histogram(data=infected, aes(x=age,color="red"), binwidth = 1) +theme_classic()
}
summarizeData("allData.csv")
source(supportingFunctions.R)
#Initialize ggplot2
library(ggplot2)
#Set Working Directory
setwd("/Users/elias/Downloads/Rproject")
source(supportingFunctions.R)
source("supportingFunctions.R")
timeDistribution <- function(file1, file2){
data1 <- read.csv(file1)
data2<- read.csv(file1)
infected1 <- data1(all1, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0| age <122)
infected2 <- data2(all1, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0| age <122)
ggplot() + geom_histogram(data=infected, aes(x=dayofYear,color="red"), binwidth = 1) +theme_classic()
ggplot() + geom_histogram(data=infected, aes(x=dayofYear,color="blue"), binwidth = 1) +theme_classic()
}
summarizeData("countryY")
#Set Working Directory
setwd("/Users/elias/Downloads/Rproject")
#Initialize ggplot2
library(ggplot2)
source("supportingFunctions.R")
summarizeData("countryY")
convertDelimiter("countryY")
compileCSV("countryY")
compileCSV("countryX")
compileCSV("countryY")
compileCSV("countryY")
compileCSV("countryY")
compileCSV("countryX")
timeDistribution("countryY/allData.csv","countryX/allData.csv")
source("supportingFunctions.R")
timeDistribution("countryY/allData.csv","countryX/allData.csv")
timeDistribution("countryY/allData.csv","countryX/allData.csv")
timeDistribution <- function(file1, file2){
data1 <- read.csv(file1)
data2<- read.csv(file2)
infected1 <- data1(all1, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0| age <122)
infected2 <- data2(all2, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0| age <122)
ggplot() + geom_histogram(data=infected1, aes(x=dayofYear,color="red"), binwidth = 1) +theme_classic()
ggplot() + geom_histogram(data=infected2, aes(x=dayofYear,color="blue"), binwidth = 1) +theme_classic()
}
timeDistribution("countryY/allData.csv","countryX/allData.csv")
timeDistribution("countryY/allData.csv","countryX/allData.csv")
timeDistribution <- function(file1, file2){
data1 <- read.csv(file1)
data2 <- read.csv(file2)
infected1 <- subset(data1, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0| age <122)
infected2 <- subset(data2, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0| age <122)
ggplot() + geom_histogram(data=infected1, aes(x=dayofYear,color="red"), binwidth = 1) +theme_classic()
ggplot() + geom_histogram(data=infected2, aes(x=dayofYear,color="blue"), binwidth = 1) +theme_classic()
}
timeDistribution("countryY/allData.csv","countryX/allData.csv")
markerDistribution <- function(file1, file2){
data <- read.csv(file)
all <- subset(data, age<122)
infected <- subset(all, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0)
}
timeDistribution("countryY/allData.csv","countryX/allData.csv")
timeDistribution("countryY/allData.csv","countrY/allData.csv")
timeDistribution("countryY/allData.csv","countryY/allData.csv")
timeDistribution("countryX/allData.csv","countryX/allData.csv")
timeDistribution("countryX/allData.csv","countryX/allData.csv")
timeDistribution("countryX/allData.csv","countryX/allData.csv")
timeDistribution("countryY/allData.csv","countryY/allData.csv")
firstInfection <- function(file){
data <- read.csv(file)
infected <- subset(all, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0)
numinfected <- nrow(infected)
}
dir("countryY")
firstInfection("countryY/screen_120.csv")
firstInfection("countryY/allData.csv")
firstInfection <- function(file){
data <- read.csv(file)
infected <- subset(data, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0)
numinfected <- nrow(infected)
print(numinfected)
}
firstInfection("countryY/allData.csv")
firstInfection("countryY/screen_120.csv")
firstInfection <- function(file){
data <- read.csv(file)
infected <- subset(data, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0)
firstinfection <- min(infected$dayofYear)
print(firstinfection)
}
firstInfection("countryY/screen_120.csv")
firstInfection("countryY/allData.csv")
firstInfection("countryX/allData.csv")
markerDistribution <- function(file1){
data <- read.csv(file)
all <- subset(data, age<122)
infected <- subset(all, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0)
df <- data.frame(marker = c(marker01, marker02, marker03, marker04, marker05, marker06, marker07, marker08, marker09, marker10)
count = c(sum(all$marker01),sum(all$marker02),sum(all$marker03),sum(all$marker04),sum(all$marker05),sum(all$marker06),sum(all$marker07),sum(all$marker08),sum(all$marker09),sum(all$marker10)))
markerDistribution <- function(file1){
data <- read.csv(file)
all <- subset(data, age<122)
infected <- subset(all, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0)
df <- data.frame(marker = c(marker01, marker02, marker03, marker04, marker05, marker06, marker07, marker08, marker09, marker10),
count = c(sum(all$marker01),sum(all$marker02),sum(all$marker03),sum(all$marker04),sum(all$marker05),sum(all$marker06),sum(all$marker07),sum(all$marker08),sum(all$marker09),sum(all$marker10)))
}
markerDistribution <- function(file){
data <- read.csv(file)
all <- subset(data, age<122)
infected <- subset(all, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0)
df <- data.frame(marker = c(marker01, marker02, marker03, marker04, marker05, marker06, marker07, marker08, marker09, marker10),
count = c(sum(all$marker01),sum(all$marker02),sum(all$marker03),sum(all$marker04),sum(all$marker05),sum(all$marker06),sum(all$marker07),sum(all$marker08),sum(all$marker09),sum(all$marker10)))
ggplot(data = df, aes(x=marker, y= count))+geom_bar()
}
markerDistribution("countryX/allData.csv")
markerDistribution("countryX/allData.csv")
markerDistribution <- function(file){
data <- read.csv(file)
all <- subset(data, age<122)
infected <- subset(all, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0)
df <- data.frame(marker = c(seq.int(1,10,by =1)),
count = c(sum(all$marker01),sum(all$marker02),sum(all$marker03),sum(all$marker04),sum(all$marker05),sum(all$marker06),sum(all$marker07),sum(all$marker08),sum(all$marker09),sum(all$marker10)))
ggplot(data = df, aes(x=marker, y= count))+geom_bar()
}
markerDistribution("countryX/allData.csv")
markerDistribution <- function(file){
data <- read.csv(file)
all <- subset(data, age<122)
infected <- subset(all, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0)
df <- data.frame(marker = c(seq.int(1,10,by =1)),
count = c(sum(all$marker01),sum(all$marker02),sum(all$marker03),sum(all$marker04),sum(all$marker05),sum(all$marker06),sum(all$marker07),sum(all$marker08),sum(all$marker09),sum(all$marker10)))
print(df)
ggplot(data = df, aes(x=marker, y= count))+geom_bar()
}
markerDistribution("countryX/allData.csv")
ggplot()+geom_bar(data = df, aes(x=marker, y= count))
markerDistribution <- function(file){
data <- read.csv(file)
all <- subset(data, age<122)
infected <- subset(all, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0)
df <- data.frame(marker = c(seq.int(1,10,by =1)),
count = c(sum(all$marker01),sum(all$marker02),sum(all$marker03),sum(all$marker04),sum(all$marker05),sum(all$marker06),sum(all$marker07),sum(all$marker08),sum(all$marker09),sum(all$marker10)))
print(df)
ggplot()+geom_bar(data = df, aes(x=marker, y= count))
}
markerDistribution("countryX/allData.csv")
ggplot()+geom_bar(data = df, aes(x=marker, y= count, color =red))+theme_classic()
markerDistribution <- function(file){
data <- read.csv(file)
all <- subset(data, age<122)
infected <- subset(all, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0)
df <- data.frame(marker = c(seq.int(1,10,by =1)),
count = c(sum(all$marker01),sum(all$marker02),sum(all$marker03),sum(all$marker04),sum(all$marker05),sum(all$marker06),sum(all$marker07),sum(all$marker08),sum(all$marker09),sum(all$marker10)))
print(df)
ggplot()+geom_bar(data = df, aes(x=marker, y= count, color =red))+theme_classic()
}
markerDistribution("countryX/allData.csv")
markerDistribution <- function(file){
data <- read.csv(file)
all <- subset(data, age<122)
infected <- subset(all, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0)
df <- data.frame(marker = c(seq.int(1,10,by =1)),
count = c(sum(all$marker01),sum(all$marker02),sum(all$marker03),sum(all$marker04),sum(all$marker05),sum(all$marker06),sum(all$marker07),sum(all$marker08),sum(all$marker09),sum(all$marker10)))
print(df)
ggplot(df, aes(x=marker))+geom_bar(aes(y= count, color =red))+theme_classic()
}
markerDistribution("countryX/allData.csv")
markerDistribution <- function(file){
data <- read.csv(file)
all <- subset(data, age<122)
infected <- subset(all, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0)
df <- data.frame(marker = c(seq.int(1,10,by =1)),
count = c(sum(all$marker01),sum(all$marker02),sum(all$marker03),sum(all$marker04),sum(all$marker05),sum(all$marker06),sum(all$marker07),sum(all$marker08),sum(all$marker09),sum(all$marker10)))
print(df)
ggplot(data = df, aes(x=marker, y = count)) + geom_bar(stat=summary)+theme_classic()
}
markerDistribution("countryX/allData.csv")
ggplot(data = df, aes(x=marker, y = count)) + geom_bar(stat="summary")+theme_classic()
markerDistribution <- function(file){
data <- read.csv(file)
all <- subset(data, age<122)
infected <- subset(all, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0)
df <- data.frame(marker = c(seq.int(1,10,by =1)),
count = c(sum(all$marker01),sum(all$marker02),sum(all$marker03),sum(all$marker04),sum(all$marker05),sum(all$marker06),sum(all$marker07),sum(all$marker08),sum(all$marker09),sum(all$marker10)))
print(df)
ggplot(data = df, aes(x=marker, y = count)) + geom_bar(stat="summary")+theme_classic()
}
markerDistribution("countryX/allData.csv")
#This function summarizes the data of a file
#Provides total number of screens as well as the percent of patients infected
#As well as the number of patients infected by sex and percent of patients infected by sex
#In addition a graph of the patient age distribution
summarizeData<- function(file){
data <- read.csv(file)
#Removes unrealistic data of patients older than 122, as some patients were reported to be over 400 years old
all <- subset(data, age<122)
#Total number of rows is equal to the number of screens
numscreen <- nrow(all)
#Subsets the data for patients with a single marker present in any of the markers
infected <- subset(all, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0)
#Total number of rows is equal to the number of infected
numinfected <- nrow(infected)
#Number screened by gender
nummalescreen <-nrow(subset(all, gender == "male"))
numfemalescreen <-nrow(subset(all, gender == "female"))
#Number of  infected by gender
nummaleinfected <- nrow(subset(infected, gender == "male"))
numfemaleinfected <- nrow(subset(infected, gender == "female"))
#Percent infected
percentinfected = numinfected/numscreen
malepercentinfected = nummaleinfected/nummalescreen
femalepercentinfected = numfemaleinfected/numfemalescreen
#Print functions
print(paste("Percent of patients screened", numscreen, "with an infection rate of", percentinfected))
print(paste("Percent of male patients screened", numscreen, "with an infection rate of", malepercentinfected))
print(paste("Percent of female patients screened", numscreen, "with an infection rate of", femalepercentinfected))
#Histogram of infected patients by age
ggplot() + geom_histogram(data=infected, aes(x=age,color="red"), binwidth = 1) +theme_classic()
}
#Determines the date of first infection for a given country from summary data
firstInfection <- function(file){
data <- read.csv(file)
#Subsets the data for patients with a single marker present in any of the markers
infected <- subset(data, marker01 > 0 | marker02 > 0 | marker03 > 0 | marker04 > 0 | marker05 > 0 | marker06 > 0 | marker07 > 0 | marker08 > 0 | marker09 > 0 | marker10 > 0)
print(min(infected$dayofYear))
}
#In which country (X or Y) did the disease outbreak likely begin?
firstInfection("countryY/allData.csv")
firstInfection("countryX/allData.csv")
markerDistribution("countryY/allData.csv")
markerDistribution("countryX/allData.csv")
markerDistribution("countryX/allData.csv")
markerDistribution("countryX/allData.csv")
markerDistribution("countryY/allData.csv")
("countryX/allData.csv")
markerDistribution("countryX/allData.csv")
markerDistribution("countryY/allData.csv")
summarizeData(allData.csv)
summarizeData("allData.csv")
summarizeData("allData.csv")
source("supportingFunctions.R")
summarizeData("allData.csv")
#Compiles all .csv files in a single directory
#The user has 3 options in NA choice, remove rows with NAs through removeNA, include NAs but be warned of their presence through warnNA, or include NAs without warning through ignoreNA
compileCSV<- function(directory, choice){
#Deletes the output file in the event that it already exists
file.remove(paste(directory, "allData.csv", sep = "/"))
#Used to define the first addition to a file which will be later changed to FALSE
first = TRUE
#Object with all .csv files in the directory
filedir <- dir(path = directory, pattern = ".csv")
if(choice == "warnNA"){ print("Warning this summary data may contain NAs")}
#Loops through all .csv files in the directory
for(i in filedir){
#Stores the data in .csv files as temporary value
data2 <- read.csv(paste(directory,i, sep = "/"))
#Remove NAs if choice is removeNA
if(choice=="removeNA"){ data <- na.omit(data2)}
#Coverts directory name(ex. countryX) to indenity (ex. X)
country <- gsub("country","", directory)
#Replicates country identity for the number of rows in the directory
country <- rep(country, nrow(data2))
#Adds a column with country identity to data
data2 <- cbind(data2, country)
#Removes all non-numerical characters from file name
dayofYear <- gsub("[^0-9]", "", i)
#Replicates date for the number of rows in the directory
dayofYear <- rep(dayofYear, nrow(data2))
#Adds a column with date to data
data2 <- cbind(data2, dayofYear)
#If this isn't the first entry then column names will be excluded
if(first==FALSE){
write.table(data2, file = paste(directory,"allData.csv", sep ="/"), append =T, row.names = F, col.names = F, sep = ",")
}
#If this is the first entry then column names will be included
else{
first = FALSE
write.table(data2, file = paste(directory,"allData.csv", sep ="/"), append = F, row.names=F, col.names = T, sep = ",")
}
}
}
source("supportingFunctions.R")
#Compiles the CSV data for each country into a file allData.csv for future analysis
compileCSV("countryY", "ignoreNA")
#Compiles the CSV data for each country into a file allData.csv for future analysis
compileCSV("countryY", "warnNA")
compileCSV("countryX", "ignoreNA")
compileCSV("countryX", "warnNA")
#Compiles the CSV data for each country into a file allData.csv for future analysis
compileCSV("countryY", "removeNA")
#If Country Y develops a vaccine for the disease, it it likely to work for Country X?
#Country Y has high levels of markers 6 & 7, with slightly lower levels of markers 7-10
#and moderate levels of markers 4&5 with nearly no levels of markers 1-3
markerDistribution("countryY/allData.csv")
#Provides the number of markers present by marker for a given country from summary data
markerDistribution <- function(file){
data <- read.csv(file)
all <- subset(data, age<122)
#Creates a dataframe with the markers 1,10 and corresponding total marker count
df <- data.frame(marker = c(seq.int(1,10,by =1)),
count = c(sum(all$marker01),sum(all$marker02),sum(all$marker03),sum(all$marker04),sum(all$marker05),sum(all$marker06),sum(all$marker07),sum(all$marker08),sum(all$marker09),sum(all$marker10)))
#bar chart of marker distribution
ggplot(data = df, aes(x=marker, y = count)) + geom_bar(fill = "blue")+theme_classic()
}
#If Country Y develops a vaccine for the disease, it it likely to work for Country X?
#Country Y has high levels of markers 6 & 7, with slightly lower levels of markers 7-10
#and moderate levels of markers 4&5 with nearly no levels of markers 1-3
markerDistribution("countryY/allData.csv")
#If Country Y develops a vaccine for the disease, it it likely to work for Country X?
#Country Y has high levels of markers 6 & 7, with slightly lower levels of markers 7-10
#and moderate levels of markers 4&5 with nearly no levels of markers 1-3
markerDistribution("countryY/allData.csv")
#Country X has extremely high levels of markers 1-5
markerDistribution("countryX/allData.csv")
#Country X has extremely high levels of markers 1-5
markerDistribution("countryX/allData.csv")
source("supportingFunctions.R")
#Country X has extremely high levels of markers 1-5
markerDistribution("countryX/allData.csv")
#If Country Y develops a vaccine for the disease, it it likely to work for Country X?
#Country Y has high levels of markers 6 & 7, with slightly lower levels of markers 7-10
#and moderate levels of markers 4&5 with nearly no levels of markers 1-3
markerDistribution("countryY/allData.csv")
source("supportingFunctions.R")
#If Country Y develops a vaccine for the disease, it it likely to work for Country X?
#Country Y has high levels of markers 6 & 7, with slightly lower levels of markers 7-10
#and moderate levels of markers 4&5 with nearly no levels of markers 1-3
markerDistribution("countryY/allData.csv")
#If Country Y develops a vaccine for the disease, it it likely to work for Country X?
#Country Y has high levels of markers 6 & 7, with slightly lower levels of markers 7-10
#and moderate levels of markers 4&5 with nearly no levels of markers 1-3
markerDistribution("countryY/allData.csv")
source("supportingFunctions.R")
#If Country Y develops a vaccine for the disease, it it likely to work for Country X?
#Country Y has high levels of markers 6 & 7, with slightly lower levels of markers 7-10
#and moderate levels of markers 4&5 with nearly no levels of markers 1-3
markerDistribution("countryY/allData.csv")
compileCSV("countryX", "removeNA")
#If Country Y develops a vaccine for the disease, it it likely to work for Country X?
#Country Y has high levels of markers 6 & 7, with slightly lower levels of markers 7-10
#and moderate levels of markers 4&5 with nearly no levels of markers 1-3
markerDistribution("countryY/allData.csv")
#Country X has extremely high levels of markers 1-5
markerDistribution("countryX/allData.csv")
#If Country Y develops a vaccine for the disease, it it likely to work for Country X?
#Country Y has high levels of markers 6 & 7, with slightly lower levels of markers 7-10
#and moderate levels of markers 4&5 with nearly no levels of markers 1-3
markerDistribution("countryY/allData.csv")
